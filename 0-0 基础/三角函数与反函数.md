# 三角函数与反函数

> [!note]
> 本笔记采用 Obsidian 友好格式：行内公式 `$...$`、块级公式 `$$...$$`，图片采用 `assets/xxx.png` 路径。将文末提供的图片放入你的库中的 `assets/` 文件夹即可正常显示。

## 1. 直观理解：单位圆与边比

三角函数描述角（弧度）与直角三角形边比/单位圆坐标之间的关系。单位圆半径为 1，则
- $x=\cos\theta$，$y=\sin\theta$
- $\tan\theta=\dfrac{\sin\theta}{\cos\theta}$（$\cos\theta\ne 0$）

![unit-circle](assets/unit_circle.png)

---

## 2. 基本三角函数

### 2.1 正弦函数 $y=\sin x$
- 定义域：$(-\infty,+\infty)$
- 值域：$[-1,1]$
- 周期：$2\pi$

![sin](assets/sin_graph.png)

### 2.2 余弦函数 $y=\cos x$
- 定义域：$(-\infty,+\infty)$
- 值域：$[-1,1]$
- 周期：$2\pi$

![cos](assets/cos_graph.png)

### 2.3 正切函数 $y=\tan x$
- 定义域：$\mathbb{R}\setminus\{\dfrac{\pi}{2}+k\pi\mid k\in\mathbb{Z}\}$
- 值域：$(-\infty,+\infty)$
- 周期：$\pi$

![tan](assets/tan_graph.png)

> [!tip]
> 记忆：$\sin$ 与 $\cos$ 的波形上下界都是 $\pm 1$；$\tan$ 在 $\dfrac{\pi}{2}+k\pi$ 处有竖直渐近线，周期更短（$\pi$）。

---

## 3. 为什么要“限制定义域”再取反函数？

三角函数在全实数上**不单调**，直接取反会一对多。常规做法是选取一个**严格单调**的主值区间，使其可逆，然后定义反函数。

---

## 4. 三角函数的反函数（主值）

### 4.1 反正弦 $y=\arcsin x$
$$
y=\arcsin x \;\Longleftrightarrow\; x=\sin y,\quad y\in\Bigl[-\frac{\pi}{2},\,\frac{\pi}{2}\Bigr]
$$
- 定义域：$[-1,1]$
- 值域：$\left[-\dfrac{\pi}{2},\,\dfrac{\pi}{2}\right]$

![arcsin](assets/arcsin_graph.png)

### 4.2 反余弦 $y=\arccos x$
$$
y=\arccos x \;\Longleftrightarrow\; x=\cos y,\quad y\in[0,\,\pi]
$$
- 定义域：$[-1,1]$
- 值域：$[0,\pi]$

![arccos](assets/arccos_graph.png)

### 4.3 反正切 $y=\arctan x$
$$
y=\arctan x \;\Longleftrightarrow\; x=\tan y,\quad y\in\Bigl(-\frac{\pi}{2},\,\frac{\pi}{2}\Bigr)
$$
- 定义域：$(-\infty,+\infty)$
- 值域：$\left(-\dfrac{\pi}{2},\,\dfrac{\pi}{2}\right)$

![arctan](assets/arctan_graph.png)

> [!tip]
> 速记主值区间：  
> $\arcsin\,\Rightarrow\,\left[-\tfrac{\pi}{2},\,\tfrac{\pi}{2}\right]$（“竖直居中”）  
> $\arccos\,\Rightarrow\,[0,\,\pi]$（“上半圆”）  
> $\arctan\,\Rightarrow\,\left(-\tfrac{\pi}{2},\,\tfrac{\pi}{2}\right)$（与 $\tan$ 的周期对应）

---

## 5. 图像对称性与单调性

- $y=f^{-1}(x)$ 的图像与 $y=f(x)$ **关于直线 $y=x$ 对称**（在对应的可逆区间上）。
- 单调性：
  - $\sin x$ 在 $\left[-\tfrac{\pi}{2},\,\tfrac{\pi}{2}\right]$ 上**增**，对应 $\arcsin x$ 在 $[-1,1]$ 上增。
  - $\cos x$ 在 $[0,\pi]$ 上**减**，对应 $\arccos x$ 在 $[-1,1]$ 上减。
  - $\tan x$ 在 $\left(-\tfrac{\pi}{2},\,\tfrac{\pi}{2}\right)$ 上**增**，对应 $\arctan x$ 在 $\mathbb{R}$ 上增。

---

## 6. 常用反三角恒等式（主值约束下）

- $\sin(\arcsin x)=x\quad (x\in[-1,1])$
- $\cos(\arccos x)=x\quad (x\in[-1,1])$
- $\tan(\arctan x)=x\quad (x\in\mathbb{R})$

- $\arcsin(\sin x)=x\quad \bigl(x\in[-\tfrac{\pi}{2},\,\tfrac{\pi}{2}]\bigr)$  
  更一般地，需要将 $x$ 先“折返”到主值区间。
- $\arccos(\cos x)=x\quad (x\in[0,\pi])$
- $\arctan(\tan x)=x\quad \bigl(x\in(-\tfrac{\pi}{2},\,\tfrac{\pi}{2})\bigr)$

> [!warning]
> 超出主值区间时，$\arcsin(\sin x)$、$\arccos(\cos x)$、$\arctan(\tan x)$ **不等于** $x$，要先把角度化到主值区间。

---

## 7. 反三角函数的导数

> [!tip]
> 记忆法：先写出“根式/有理式”母式，再按符号、分母、平方根顺序检查。

- $\displaystyle \frac{d}{dx}\arcsin x=\frac{1}{\sqrt{1-x^{2}}}\quad(|x|<1)$
- $\displaystyle \frac{d}{dx}\arccos x=-\frac{1}{\sqrt{1-x^{2}}}\quad(|x|<1)$
- $\displaystyle \frac{d}{dx}\arctan x=\frac{1}{1+x^{2}}\quad(x\in\mathbb{R})$

---

## 8. 易错点与小结

- **主值区间**是反函数能否成立的关键；做题遇到 $\arcsin(\sin x)$ 一定先把 $x$ **投影/折返**到主值区间。  
- 图像上：$f$ 与 $f^{-1}$ 关于 $y=x$ 对称；$\arcsin,\arctan$ 单调增，$\arccos$ 单调减。  
- $\tan$ 有竖直渐近线，处理分段/定义域时要避开 $\dfrac{\pi}{2}+k\pi$。

> [!quote]
> “主值先行，折返为王；对称记忆，单调不忘。”
